# Java学習メモ

## オートボクシング

プリミティブ型をラッパークラスに自動的に変換すること。

```java
Integer intObj = 123;  // int 値 -> Integerオブジェクトに変換：オートボクシング
int intVal = intObj;   // Integerオブジェクト -> int 値に変換：オートアンボクシング
```

注意点
- 比較演算子によってオートアンボクシングされたりされなかったりする。
- 特定の型の特定の値範囲についてはキャッシュ機能が働く。
- 二項数値昇格を意識する必要がある場合がある。
- ラッパークラスは参照型であるため、nullを代入することが可能。
- ラッパークラスの生成や変換には多少なりともコストがかかる。

### 比較演算子によってオートアンボクシングされたりされなかったりする。

ラッパークラスのオブジェクトに対して 比較演算子 “>"、"＜"、">="、"<=“を使って比較を行う場合は オートアンボクシングが行われ 値の比較が行われます。一方で”==“や”!=“を使ってラッパーオブジェクト同士の比較を行うとオートアンボクシングは行われず、値の比較ではなく オブジェクトの同一性判定が行われます。（ややこしいことに”==“や”!=“でラッパーオブジェクトとプリミティブ型を比較すると値の比較が行われます。）オートアンボクシングを期待して ラッパーオブジェクトのまま比較を行いたい場合に起こりやすい誤りです。

ラッパーオブジェクト同士の値の比較を行いたい場合は 明示的にプリミティブ型に変換する必要があります。

```java
  Integer integer1 = 200;
  Integer integer2 = 200;
  System.out.println(integer1 == integer2); // オブジェクト自体の同一性の比較になるため false
  System.out.println(integer1.intValue() == integer2.intValue()); // 値を比較しているため true
```

### ラッパーオブジェクト同士の値の比較を行いたい場合は 明示的にプリミティブ型に変換する必要があります。
